<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÁÅ´Â±±ÂÜÖÂÆπÁîüÊàê - ËßÜÈ¢ë & ÂõæÁâá</title>
    <link rel="stylesheet" href="/static/css/styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>

<body>
    <div id="app">
        <!-- ÁôªÂΩïËßÜÂõæ -->
        <div id="login-view" class="view active">
            <div class="login-container">
                <div class="login-card glass">
                    <div class="logo">
                        <span class="logo-icon">üåã</span>
                        <h1>ÁÅ´Â±±ÂÜÖÂÆπÁîüÊàê</h1>
                        <p class="subtitle">ËßÜÈ¢ë & ÂõæÁâáÁîüÊàê</p>
                    </div>
                    <form id="login-form">
                        <div class="form-group">
                            <input type="password" id="password-input" placeholder="ËØ∑ËæìÂÖ•ËÆøÈóÆÂØÜÁ†Å" required>
                        </div>
                        <button type="submit" class="btn btn-primary btn-block">
                            <span>Áôª ÂΩï</span>
                        </button>
                        <p id="login-error" class="error-message"></p>
                    </form>
                </div>
            </div>
        </div>

        <!-- ‰∏ªËßÜÂõæ -->
        <div id="main-view" class="view">
            <!-- È°∂ÈÉ®ÂØºËà™ -->
            <nav class="navbar">
                <div class="nav-brand">
                    <span class="logo-icon">üåã</span>
                    <span>ÁÅ´Â±±ÁîüÊàê</span>
                </div>
                <div class="nav-links">
                    <button class="nav-btn active" data-view="generate">ÁîüÊàê</button>
                    <button class="nav-btn" data-view="queue">ÈòüÂàó</button>
                    <button class="nav-btn" data-view="settings">ËÆæÁΩÆ</button>
                </div>
                <button id="logout-btn" class="btn btn-ghost">ÈÄÄÂá∫</button>
            </nav>

            <!-- ÂÜÖÂÆπÂå∫Âüü -->
            <main class="main-content">
                <!-- ÁîüÊàêÈ°µÈù¢ -->
                <section id="generate-section" class="section active">
                    <div class="container">
                        <!-- Ê®°ÂºèÂàáÊç¢ÈÄâÈ°πÂç° -->
                        <div class="mode-tabs">
                            <button class="mode-tab active" data-mode="video">
                                <span class="tab-icon">üé¨</span>
                                <span>ËßÜÈ¢ëÁîüÊàê</span>
                            </button>
                            <button class="mode-tab" data-mode="image">
                                <span class="tab-icon">üñºÔ∏è</span>
                                <span>ÂõæÁâáÁîüÊàê</span>
                            </button>
                            <button class="mode-tab" data-mode="banana">
                                <span class="tab-icon">üçå</span>
                                <span>BananaÁîüÂõæ</span>
                            </button>
                        </div>

                        <!-- ============ ËßÜÈ¢ëÁîüÊàêÈù¢Êùø ============ -->
                        <div id="video-panel" class="mode-panel active">
                            <div class="generate-grid">
                                <!-- Â∑¶‰æßÔºöËæìÂÖ•Âå∫Âüü + ÂèÇÊï∞ -->
                                <div class="left-panel">
                                    <!-- ËæìÂÖ•Âå∫ -->
                                    <div class="input-card glass">
                                        <h3>üìù ÂÜÖÂÆπËæìÂÖ•</h3>

                                        <!-- ÊèêÁ§∫ËØç -->
                                        <div class="prompt-section">
                                            <label>ÊèêÁ§∫ËØç <span class="optional">(ÂõæÁîüËßÜÈ¢ëÊó∂ÂèØÈÄâ)</span></label>
                                            <textarea id="prompt-input"
                                                placeholder="ÊèèËø∞‰Ω†ÊÉ≥ÁîüÊàêÁöÑËßÜÈ¢ëÂÜÖÂÆπÔºå‰æãÂ¶ÇÔºöÂ•≥Â≠©Êä±ÁùÄÁãêÁã∏ÔºåÊ∏©ÊüîÂú∞ÁúãÂêëÈïúÂ§¥ÔºåÈïúÂ§¥ÁºìÁºìÊãâÂá∫ÔºåÂ§¥ÂèëË¢´È£éÂêπÂä®"
                                                rows="4"></textarea>
                                        </div>

                                        <!-- ÂõæÁâáËæìÂÖ•ÊåâÈíÆ -->
                                        <div class="image-inputs">
                                            <div class="image-input-wrapper">
                                                <label>È¶ñÂ∏ßÂõæÁâá <span class="optional">(ÂèØÈÄâ)</span></label>
                                                <div class="image-input" id="first-frame-input">
                                                    <input type="file" id="first-frame-file" accept="image/*" hidden>
                                                    <div class="image-placeholder" id="first-frame-placeholder"
                                                        onclick="document.getElementById('first-frame-file').click()">
                                                        <span class="placeholder-icon">üñºÔ∏è</span>
                                                        <span class="placeholder-text">ÁÇπÂáª‰∏ä‰º†È¶ñÂ∏ß</span>
                                                    </div>
                                                    <div class="image-preview-container"
                                                        id="first-frame-preview-container" style="display: none;">
                                                        <img id="first-frame-img" alt="È¶ñÂ∏ßÈ¢ÑËßà">
                                                        <div class="image-actions">
                                                            <button type="button" class="img-btn"
                                                                onclick="previewImage('first-frame')"
                                                                title="ÊîæÂ§ßÈ¢ÑËßà">üîç</button>
                                                            <button type="button" class="img-btn danger"
                                                                onclick="clearImage('first-frame')"
                                                                title="Âà†Èô§">‚úï</button>
                                                        </div>
                                                    </div>
                                                </div>
                                                <input type="text" id="first-frame-url" class="url-input-small"
                                                    placeholder="ÊàñËæìÂÖ• URL">
                                            </div>

                                            <div class="image-input-wrapper">
                                                <label>Â∞æÂ∏ßÂõæÁâá <span class="optional">(ÈúÄÈ¶ñÂ∏ß)</span></label>
                                                <div class="image-input" id="last-frame-input">
                                                    <input type="file" id="last-frame-file" accept="image/*" hidden>
                                                    <div class="image-placeholder" id="last-frame-placeholder"
                                                        onclick="document.getElementById('last-frame-file').click()">
                                                        <span class="placeholder-icon">üñºÔ∏è</span>
                                                        <span class="placeholder-text">ÁÇπÂáª‰∏ä‰º†Â∞æÂ∏ß</span>
                                                    </div>
                                                    <div class="image-preview-container"
                                                        id="last-frame-preview-container" style="display: none;">
                                                        <img id="last-frame-img" alt="Â∞æÂ∏ßÈ¢ÑËßà">
                                                        <div class="image-actions">
                                                            <button type="button" class="img-btn"
                                                                onclick="previewImage('last-frame')"
                                                                title="ÊîæÂ§ßÈ¢ÑËßà">üîç</button>
                                                            <button type="button" class="img-btn danger"
                                                                onclick="clearImage('last-frame')" title="Âà†Èô§">‚úï</button>
                                                        </div>
                                                    </div>
                                                </div>
                                                <input type="text" id="last-frame-url" class="url-input-small"
                                                    placeholder="ÊàñËæìÂÖ• URL">
                                            </div>
                                        </div>

                                        <!-- ÁîüÊàêÁ±ªÂûãÊèêÁ§∫ -->
                                        <div class="generation-type-hint">
                                            <span class="type-label">Ê£ÄÊµãÂà∞:</span>
                                            <span id="generation-type" class="type-value">ÂæÖËæìÂÖ•</span>
                                        </div>
                                    </div>

                                    <!-- ÂèÇÊï∞ËÆæÁΩÆ -->
                                    <div class="settings-card glass">
                                        <h3>‚öôÔ∏è ÁîüÊàêÂèÇÊï∞</h3>
                                        <div class="params-grid">
                                            <div class="form-group">
                                                <label>ÊØî‰æã</label>
                                                <select id="ratio">
                                                    <option value="16:9">16:9 Ê®™Â±è</option>
                                                    <option value="4:3">4:3</option>
                                                    <option value="1:1">1:1 ÊñπÂΩ¢</option>
                                                    <option value="3:4">3:4</option>
                                                    <option value="9:16">9:16 Á´ñÂ±è</option>
                                                    <option value="21:9">21:9 Ë∂ÖÂÆΩ</option>
                                                </select>
                                            </div>
                                            <div class="form-group">
                                                <label>ÂàÜËæ®Áéá</label>
                                                <select id="resolution">
                                                    <option value="480p">480P</option>
                                                    <option value="720p" selected>720P</option>
                                                </select>
                                            </div>
                                            <div class="form-group">
                                                <label>Êó∂Èïø</label>
                                                <div class="range-group">
                                                    <input type="range" id="duration" min="4" max="12" value="5"
                                                        step="1">
                                                    <span id="duration-value">5Áßí</span>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label>Êï∞Èáè</label>
                                                <select id="video-count">
                                                    <option value="1">1 ‰∏™</option>
                                                    <option value="2">2 ‰∏™</option>
                                                    <option value="3">3 ‰∏™</option>
                                                    <option value="4">4 ‰∏™</option>
                                                </select>
                                            </div>
                                            <div class="form-group">
                                                <label>ÁßçÂ≠ê</label>
                                                <input type="number" id="seed" value="-1" placeholder="-1">
                                            </div>
                                            <div class="form-group">
                                                <label>Â∏ßÁéá</label>
                                                <input type="text" value="24fps" disabled class="disabled-input">
                                            </div>
                                        </div>
                                        <div class="checkbox-row">
                                            <label class="checkbox-label">
                                                <input type="checkbox" id="generate-audio">
                                                <span>ÁîüÊàêÂ£∞Èü≥</span>
                                            </label>
                                            <label class="checkbox-label">
                                                <input type="checkbox" id="watermark">
                                                <span>Ê∞¥Âç∞</span>
                                            </label>
                                            <label class="checkbox-label">
                                                <input type="checkbox" id="camera-fixed">
                                                <span>Âõ∫ÂÆöÈïúÂ§¥</span>
                                            </label>
                                        </div>
                                    </div>
                                </div>

                                <!-- Âè≥‰æßÔºöË¥¶Êà∑ + Token ÊòæÁ§∫ -->
                                <div class="right-panel">
                                    <!-- Ë¥¶Êà∑ÈÄâÊã© -->
                                    <div class="account-card glass">
                                        <h3>üîë ÈÄâÊã©Ë¥¶Êà∑</h3>
                                        <div id="account-list" class="account-list">
                                            <div class="loading">Âä†ËΩΩË¥¶Êà∑ÂàóË°®...</div>
                                        </div>
                                    </div>

                                    <!-- Token È¢Ñ‰º∞ -->
                                    <div class="token-card glass">
                                        <h3>üí∞ Ê∂àËÄóÈ¢Ñ‰º∞</h3>
                                        <div class="token-display">
                                            <div class="token-main">
                                                <span class="token-number" id="estimated-tokens">0</span>
                                                <span class="token-unit">tokens</span>
                                            </div>
                                            <div class="price-display">
                                                <span class="price-type" id="price-type">Êó†Â£∞</span>
                                                <span class="price-value" id="estimated-price">¬•0.00</span>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Â∏ßÂõæÁâáÂ≠òÂÇ® -->
                                    <div class="storage-card glass">
                                        <h3>üíæ Â∏ßÂõæÁâáÂ≠òÂÇ®</h3>
                                        <div class="storage-display">
                                            <div class="storage-main">
                                                <span class="storage-number" id="video-storage-size">0 B</span>
                                                <span class="storage-files" id="video-storage-files">0 ‰∏™Êñá‰ª∂</span>
                                            </div>
                                        </div>
                                        <div class="storage-actions">
                                            <button class="btn btn-ghost btn-sm" onclick="loadVideoStorage()">
                                                Âà∑Êñ∞
                                            </button>
                                            <button class="btn btn-danger btn-sm" onclick="cleanupVideoStorage()">
                                                Ê∏ÖÁêÜÂ≠òÂÇ®
                                            </button>
                                        </div>
                                    </div>

                                    <!-- ÁîüÊàêÊåâÈíÆ -->
                                    <button id="generate-btn" class="btn btn-primary btn-generate" disabled>
                                        <span class="btn-icon">üöÄ</span>
                                        <span>ÁîüÊàêËßÜÈ¢ë</span>
                                    </button>
                                </div>
                            </div>
                        </div>

                        <!-- ============ ÂõæÁâáÁîüÊàêÈù¢Êùø ============ -->
                        <div id="image-panel" class="mode-panel">
                            <div class="generate-grid">
                                <!-- Â∑¶‰æßÔºöËæìÂÖ•Âå∫Âüü + ÂèÇÊï∞ -->
                                <div class="left-panel">
                                    <!-- ËæìÂÖ•Âå∫ -->
                                    <div class="input-card glass">
                                        <h3>üìù ÂõæÁâáÊèèËø∞</h3>

                                        <!-- ÊèêÁ§∫ËØç -->
                                        <div class="prompt-section">
                                            <label>ÊèêÁ§∫ËØç <span class="required">(ÂøÖÂ°´)</span></label>
                                            <textarea id="image-prompt-input"
                                                placeholder="ÊèèËø∞‰Ω†ÊÉ≥ÁîüÊàêÁöÑÂõæÁâáÂÜÖÂÆπÔºå‰æãÂ¶ÇÔºö‰∏ÄÂè™ÂèØÁà±ÁöÑÊ©òÁå´ÂùêÂú®Á™óÂè∞‰∏äÔºåÈò≥ÂÖâÊ¥íËêΩÔºåËâ∫ÊúØÈ£éÊ†ºÔºåÈ´òÊ∏ÖÁîªË¥®"
                                                rows="4"></textarea>
                                        </div>

                                        <!-- ÂèÇËÄÉÂõæÁâá‰∏ä‰º† -->
                                        <div class="ref-images-section">
                                            <label>ÂèÇËÄÉÂõæÁâá <span class="optional">(ÂèØÈÄâÔºåÊúÄÂ§ö14Âº†)</span></label>
                                            <input type="file" id="ref-images-file" accept="image/*" multiple hidden>
                                            <div class="ref-images-container" id="ref-images-container">
                                                <div class="ref-image-add" id="ref-image-add"
                                                    onclick="document.getElementById('ref-images-file').click()">
                                                    <span class="add-icon">+</span>
                                                    <span class="add-text">Ê∑ªÂä†ÂõæÁâá</span>
                                                </div>
                                            </div>
                                            <div class="ref-images-hint">
                                                ÊîØÊåÅÊãñÊãΩÊàñÁÇπÂáª‰∏ä‰º†ÔºåÂõæÁâáÂ∞ÜÁî®‰∫éÈ£éÊ†ºÂèÇËÄÉÊàñÂõæÁîüÂõæ
                                            </div>
                                        </div>

                                        <!-- ÁîüÊàêÁ±ªÂûãÊèêÁ§∫ -->
                                        <div class="generation-type-hint">
                                            <span class="type-label">Ê®°Âºè:</span>
                                            <span id="image-generation-type" class="type-value">Á∫ØÊñáÁîüÂõæ</span>
                                        </div>
                                    </div>

                                    <!-- ÂèÇÊï∞ËÆæÁΩÆ -->
                                    <div class="settings-card glass">
                                        <h3>‚öôÔ∏è ÁîüÊàêÂèÇÊï∞</h3>

                                        <!-- ÁªÑÂõæÂºÄÂÖ≥ -->
                                        <div class="setting-row">
                                            <label class="checkbox-label setting-toggle">
                                                <input type="checkbox" id="sequential-mode">
                                                <span>ÂºÄÂêØÁªÑÂõæÊ®°Âºè</span>
                                            </label>
                                            <span class="setting-hint">‰∏ÄÊ¨°ÁîüÊàêÂ§öÂº†ÂÖ≥ËÅîÂõæÁâá</span>
                                        </div>

                                        <!-- ÁªÑÂõæÊï∞Èáè (ÁªÑÂõæÊ®°Âºè‰∏ãÊòæÁ§∫) -->
                                        <div class="form-group" id="max-images-group" style="display: none;">
                                            <label>ÁªÑÂõæÊï∞Èáè <span class="hint">(ÊúÄÂ§ö15Âº†)</span></label>
                                            <div class="range-group">
                                                <input type="range" id="max-images" min="2" max="15" value="4" step="1">
                                                <span id="max-images-value">4Âº†</span>
                                            </div>
                                        </div>

                                        <!-- ÁîüÊàêÂº†Êï∞ (ÈùûÁªÑÂõæÊ®°Âºè‰∏ãÊòæÁ§∫) -->
                                        <div class="form-group" id="image-count-group">
                                            <label>ÁîüÊàêÂº†Êï∞</label>
                                            <select id="image-count">
                                                <option value="1" selected>1 Âº†</option>
                                                <option value="2">2 Âº†</option>
                                                <option value="3">3 Âº†</option>
                                                <option value="4">4 Âº†</option>
                                                <option value="5">5 Âº†</option>
                                                <option value="6">6 Âº†</option>
                                                <option value="7">7 Âº†</option>
                                                <option value="8">8 Âº†</option>
                                                <option value="9">9 Âº†</option>
                                            </select>
                                        </div>

                                        <div class="params-grid params-grid-2">
                                            <div class="form-group">
                                                <label>ÂàÜËæ®Áéá</label>
                                                <select id="image-resolution">
                                                    <option value="2K" selected>2K</option>
                                                    <option value="4K">4K</option>
                                                </select>
                                            </div>
                                            <div class="form-group">
                                                <label>ÊØî‰æã</label>
                                                <select id="image-ratio">
                                                    <option value="1:1" selected>1:1 ÊñπÂΩ¢</option>
                                                    <option value="4:3">4:3 Ê®™Â±è</option>
                                                    <option value="3:4">3:4 Á´ñÂ±è</option>
                                                    <option value="16:9">16:9 Ê®™Â±è</option>
                                                    <option value="9:16">9:16 Á´ñÂ±è</option>
                                                    <option value="3:2">3:2 Ê®™Â±è</option>
                                                    <option value="2:3">2:3 Á´ñÂ±è</option>
                                                    <option value="21:9">21:9 Ë∂ÖÂÆΩ</option>
                                                </select>
                                            </div>
                                        </div>

                                        <!-- ÂàÜËæ®ÁéáÊòæÁ§∫ -->
                                        <div class="resolution-display">
                                            <span class="resolution-label">ËæìÂá∫Â∞∫ÂØ∏:</span>
                                            <span id="image-resolution-display"
                                                class="resolution-value">2048√ó2048</span>
                                        </div>

                                        <!-- ‰ºòÂåñÊèêÁ§∫ËØçÂíåÊ∞¥Âç∞ÂºÄÂÖ≥ -->
                                        <div class="checkbox-row">
                                            <label class="checkbox-label">
                                                <input type="checkbox" id="optimize-prompt" checked>
                                                <span>‰ºòÂåñÊèêÁ§∫ËØç</span>
                                            </label>
                                            <label class="checkbox-label">
                                                <input type="checkbox" id="image-watermark">
                                                <span>Ê∑ªÂä†Ê∞¥Âç∞</span>
                                            </label>
                                        </div>
                                    </div>
                                </div>

                                <!-- Âè≥‰æßÔºöË¥¶Êà∑ + ‰ª∑Ê†ºÊòæÁ§∫ -->
                                <div class="right-panel">
                                    <!-- Ë¥¶Êà∑ÈÄâÊã© -->
                                    <div class="account-card glass">
                                        <h3>üîë ÈÄâÊã©Ë¥¶Êà∑</h3>
                                        <div id="image-account-list" class="account-list">
                                            <div class="loading">Âä†ËΩΩË¥¶Êà∑ÂàóË°®...</div>
                                        </div>
                                    </div>

                                    <!-- ‰ª∑Ê†ºÈ¢Ñ‰º∞ -->
                                    <div class="token-card glass">
                                        <h3>üí∞ Ê∂àËÄóÈ¢Ñ‰º∞</h3>
                                        <div class="token-display">
                                            <div class="token-main">
                                                <span class="token-number" id="estimated-images">0</span>
                                                <span class="token-unit">Âº†</span>
                                            </div>
                                            <div class="price-display">
                                                <span class="price-type">¬•0.25/Âº†</span>
                                                <span class="price-value" id="image-estimated-price">¬•0.00</span>
                                            </div>
                                        </div>
                                        <div class="storage-hint">
                                            ‚ö†Ô∏è ÂõæÁâáÈìæÊé•24Â∞èÊó∂ÂÜÖÊúâÊïàÔºåËØ∑ÂèäÊó∂‰∏ãËΩΩ‰øùÂ≠ò
                                        </div>
                                    </div>

                                    <!-- ÂèÇËÄÉÂõæÂ≠òÂÇ® -->
                                    <div class="storage-card glass">
                                        <h3>üíæ ÂèÇËÄÉÂõæÂ≠òÂÇ®</h3>
                                        <div class="storage-display">
                                            <div class="storage-main">
                                                <span class="storage-number" id="volcano-storage-size">0 B</span>
                                                <span class="storage-files" id="volcano-storage-files">0 ‰∏™Êñá‰ª∂</span>
                                            </div>
                                        </div>
                                        <div class="storage-actions">
                                            <button class="btn btn-ghost btn-sm" onclick="loadVolcanoStorage()">
                                                Âà∑Êñ∞
                                            </button>
                                            <button class="btn btn-danger btn-sm" onclick="cleanupVolcanoStorage()">
                                                Ê∏ÖÁêÜÂ≠òÂÇ®
                                            </button>
                                        </div>
                                    </div>

                                    <!-- ÁîüÊàêÊåâÈíÆ -->
                                    <button id="image-generate-btn" class="btn btn-primary btn-generate" disabled>
                                        <span class="btn-icon">üé®</span>
                                        <span>ÁîüÊàêÂõæÁâá</span>
                                    </button>
                                </div>
                            </div>
                        </div>

                        <!-- ============ BananaÁîüÂõæÈù¢Êùø ============ -->
                        <div id="banana-panel" class="mode-panel">
                            <div class="generate-grid">
                                <!-- Â∑¶‰æßÔºöËæìÂÖ•Âå∫Âüü + ÂèÇÊï∞ -->
                                <div class="left-panel">
                                    <!-- ËæìÂÖ•Âå∫ -->
                                    <div class="input-card glass">
                                        <h3>üçå ÂõæÁâáÊèèËø∞</h3>

                                        <!-- ÊèêÁ§∫ËØç -->
                                        <div class="prompt-section">
                                            <label>ÊèêÁ§∫ËØç <span class="required">(ÂøÖÂ°´)</span></label>
                                            <textarea id="banana-prompt-input" placeholder="ÊèèËø∞‰Ω†ÊÉ≥ÁîüÊàêÁöÑÂõæÁâáÂÜÖÂÆπÔºåÊîØÊåÅÂ§öËΩÆÂØπËØù‰øÆÊîπ"
                                                rows="4"></textarea>
                                        </div>

                                        <!-- ÂèÇËÄÉÂõæÁâá‰∏ä‰º† -->
                                        <div class="ref-images-section">
                                            <label>ÂèÇËÄÉÂõæÁâá <span class="optional">(ÂèØÈÄâÔºåÊúÄÂ§ö14Âº†)</span></label>
                                            <input type="file" id="banana-ref-images-file" accept="image/*" multiple
                                                hidden>
                                            <div class="ref-images-container" id="banana-ref-images-container">
                                                <div class="ref-image-add" id="banana-ref-image-add"
                                                    onclick="document.getElementById('banana-ref-images-file').click()">
                                                    <span class="add-icon">+</span>
                                                    <span class="add-text">Ê∑ªÂä†ÂõæÁâá</span>
                                                </div>
                                            </div>
                                            <div class="ref-images-hint">
                                                ÊîØÊåÅÊãñÊãΩÊàñÁÇπÂáª‰∏ä‰º†ÔºåÂõæÁâáÂ∞ÜÁî®‰∫éÈ£éÊ†ºÂèÇËÄÉÊàñÂõæÁîüÂõæ
                                            </div>
                                        </div>

                                        <!-- ÁîüÊàêÁ±ªÂûãÊèêÁ§∫ -->
                                        <div class="generation-type-hint">
                                            <span class="type-label">Ê®°Âºè:</span>
                                            <span id="banana-generation-type" class="type-value">Á∫ØÊñáÁîüÂõæ</span>
                                        </div>
                                    </div>

                                    <!-- ÂèÇÊï∞ËÆæÁΩÆ -->
                                    <div class="settings-card glass">
                                        <h3>‚öôÔ∏è ÁîüÊàêÂèÇÊï∞</h3>

                                        <div class="params-grid params-grid-2">
                                            <div class="form-group">
                                                <label>ÂàÜËæ®Áéá</label>
                                                <select id="banana-resolution">
                                                    <option value="1K">1K (ÈªòËÆ§)</option>
                                                    <option value="2K">2K</option>
                                                    <option value="4K">4K</option>
                                                </select>
                                            </div>
                                            <div class="form-group">
                                                <label>ÊØî‰æã</label>
                                                <select id="banana-ratio">
                                                    <option value="1:1" selected>1:1 ÊñπÂΩ¢</option>
                                                    <option value="4:3">4:3 Ê®™Â±è</option>
                                                    <option value="3:4">3:4 Á´ñÂ±è</option>
                                                    <option value="16:9">16:9 Ê®™Â±è</option>
                                                    <option value="9:16">9:16 Á´ñÂ±è</option>
                                                    <option value="3:2">3:2 Ê®™Â±è</option>
                                                    <option value="2:3">2:3 Á´ñÂ±è</option>
                                                    <option value="4:5">4:5 Á´ñÂ±è</option>
                                                    <option value="5:4">5:4 Ê®™Â±è</option>
                                                    <option value="21:9">21:9 Ë∂ÖÂÆΩ</option>
                                                </select>
                                            </div>
                                        </div>

                                        <div class="banana-info-hint">
                                            <span class="hint-icon">üí°</span>
                                            <span>‰ΩøÁî® Gemini APIÔºåÊîØÊåÅÂ§öËΩÆ‰øÆÊîπ</span>
                                        </div>
                                    </div>
                                </div>

                                <!-- Âè≥‰æßÔºöË¥¶Êà∑ + Â≠òÂÇ®Áä∂ÊÄÅ -->
                                <div class="right-panel">
                                    <!-- Ë¥¶Êà∑ÈÄâÊã© -->
                                    <div class="account-card glass">
                                        <h3>üîë ÈÄâÊã©Ë¥¶Êà∑</h3>
                                        <div id="banana-account-list" class="account-list">
                                            <div class="loading">Âä†ËΩΩË¥¶Êà∑ÂàóË°®...</div>
                                        </div>
                                    </div>

                                    <!-- Â≠òÂÇ®Áä∂ÊÄÅ -->
                                    <div class="token-card glass">
                                        <h3>üíæ Â≠òÂÇ®Áä∂ÊÄÅ</h3>
                                        <div class="storage-display">
                                            <div class="storage-main">
                                                <span class="storage-number" id="banana-storage-size">0 B</span>
                                                <span class="storage-unit">Â∑≤‰ΩøÁî®</span>
                                            </div>
                                            <div class="usage-display">
                                                <span class="usage-label">Ëøë5Â∞èÊó∂ÁîüÊàê:</span>
                                                <span class="usage-value" id="banana-usage-count">-</span>
                                            </div>
                                        </div>
                                        <div class="storage-actions">
                                            <button id="banana-refresh-storage-btn" class="btn btn-ghost btn-sm"
                                                onclick="refreshBananaInfo()">
                                                Âà∑Êñ∞
                                            </button>
                                            <button id="banana-cleanup-btn" class="btn btn-danger btn-sm"
                                                onclick="cleanupBananaStorage()">
                                                Ê∏ÖÁêÜÂ≠òÂÇ®
                                            </button>
                                        </div>
                                    </div>

                                    <!-- ÁîüÊàêÊåâÈíÆ -->
                                    <button id="banana-generate-btn" class="btn btn-primary btn-generate" disabled>
                                        <span class="btn-icon">üçå</span>
                                        <span>ÁîüÊàêÂõæÁâá</span>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- ÈòüÂàóÈ°µÈù¢ -->
                <section id="queue-section" class="section">
                    <div class="container">
                        <div class="section-header">
                            <h2 class="section-title">‰ªªÂä°ÈòüÂàó</h2>
                            <div class="section-actions">
                                <select id="queue-type-filter">
                                    <option value="">ÂÖ®ÈÉ®Á±ªÂûã</option>
                                    <option value="video">ËßÜÈ¢ë</option>
                                    <option value="image">ÂõæÁâá</option>
                                    <option value="banana_image">BananaÂõæÁâá</option>
                                </select>
                                <select id="queue-account-filter">
                                    <option value="">ÂÖ®ÈÉ®Ë¥¶Êà∑</option>
                                </select>
                                <select id="queue-status-filter">
                                    <option value="">ÂÖ®ÈÉ®Áä∂ÊÄÅ</option>
                                    <option value="queued">ÊéíÈòü‰∏≠</option>
                                    <option value="running">ËøõË°å‰∏≠</option>
                                    <option value="succeeded">Â∑≤ÂÆåÊàê</option>
                                    <option value="failed">Â§±Ë¥•</option>
                                    <option value="expired">Â∑≤ËøáÊúü</option>
                                </select>
                                <button id="refresh-queue-btn" class="btn btn-ghost">
                                    <span>üîÑ</span> Âà∑Êñ∞
                                </button>
                            </div>
                        </div>

                        <!-- ÊâπÈáèÊìç‰ΩúÂ∑•ÂÖ∑Ê†è -->
                        <div class="batch-toolbar" id="batch-toolbar">
                            <label class="checkbox-label select-all-label">
                                <input type="checkbox" id="select-all-tasks">
                                <span>ÂÖ®ÈÄâ</span>
                            </label>
                            <span class="selected-count" id="selected-count">Â∑≤ÈÄâÊã© 0 È°π</span>
                            <div class="batch-actions">
                                <button id="batch-delete-btn" class="btn btn-danger btn-sm" disabled>
                                    <span>üóëÔ∏è</span> ÊâπÈáèÂà†Èô§
                                </button>
                            </div>
                        </div>

                        <div class="queue-content">
                            <div id="task-list" class="task-list">
                                <div class="loading">Âä†ËΩΩ‰ªªÂä°ÂàóË°®...</div>
                            </div>

                            <!-- ‰ªªÂä°ËØ¶ÊÉÖÈù¢Êùø -->
                            <div id="task-detail" class="task-detail glass" style="display: none;">
                                <div class="detail-header">
                                    <h3>‰ªªÂä°ËØ¶ÊÉÖ</h3>
                                    <button class="btn btn-ghost btn-sm" id="close-detail">‚úï</button>
                                </div>
                                <div class="detail-content">
                                    <div class="detail-row">
                                        <span class="label">Task ID:</span>
                                        <span id="detail-task-id" class="value"></span>
                                    </div>
                                    <div class="detail-row">
                                        <span class="label">Á±ªÂûã:</span>
                                        <span id="detail-task-type" class="value"></span>
                                    </div>
                                    <div class="detail-row">
                                        <span class="label">Ë¥¶Êà∑:</span>
                                        <span id="detail-account" class="value"></span>
                                    </div>
                                    <div class="detail-row">
                                        <span class="label">ÁîüÊàêÊñπÂºè:</span>
                                        <span id="detail-type" class="value"></span>
                                    </div>
                                    <div class="detail-row">
                                        <span class="label">Áä∂ÊÄÅ:</span>
                                        <span id="detail-status" class="value"></span>
                                    </div>
                                    <div class="detail-row" id="detail-prompt-row">
                                        <span class="label">ÊèêÁ§∫ËØç:</span>
                                        <span id="detail-prompt" class="value prompt-text"></span>
                                    </div>
                                    <div class="detail-row" id="detail-tokens-row">
                                        <span class="label">Token Ê∂àËÄó:</span>
                                        <span id="detail-tokens" class="value"></span>
                                    </div>
                                    <div class="detail-row" id="detail-images-row" style="display: none;">
                                        <span class="label">ÂõæÁâáÊï∞Èáè:</span>
                                        <span id="detail-images-count" class="value"></span>
                                    </div>
                                    <div class="detail-row">
                                        <span class="label">ÂàõÂª∫Êó∂Èó¥:</span>
                                        <span id="detail-created" class="value"></span>
                                    </div>
                                    <div class="detail-row" id="detail-submitter-row" style="display: none;">
                                        <span class="label">Êèê‰∫§ËÄÖ:</span>
                                        <span id="detail-submitter" class="value"></span>
                                    </div>
                                    <div class="detail-row" id="detail-error-row" style="display: none;">
                                        <span class="label">ÈîôËØØ:</span>
                                        <span id="detail-error" class="value error"></span>
                                    </div>
                                    <!-- ÂèÇËÄÉÂõæÊòæÁ§∫ -->
                                    <div class="detail-row" id="detail-ref-images-row" style="display: none;">
                                        <span class="label">ÂèÇËÄÉÂõæ:</span>
                                        <div id="detail-ref-images" class="ref-images-preview"></div>
                                    </div>
                                </div>
                                <!-- ËßÜÈ¢ëÈ¢ÑËßà -->
                                <div class="detail-video" id="detail-video-container" style="display: none;">
                                    <video id="detail-video" controls></video>
                                </div>
                                <!-- ÂõæÁâáÈ¢ÑËßà -->
                                <div class="detail-images" id="detail-images-container" style="display: none;">
                                    <div class="images-grid" id="detail-images-grid"></div>
                                </div>
                                <div class="detail-actions">
                                    <button id="sync-task-btn" class="btn btn-ghost">Âà∑Êñ∞Áä∂ÊÄÅ</button>
                                    <a id="download-video-btn" class="btn btn-primary" style="display: none;"
                                        target="_blank">‰∏ãËΩΩËßÜÈ¢ë</a>
                                    <button id="delete-task-btn" class="btn btn-danger">Âà†Èô§‰ªªÂä°</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- ËÆæÁΩÆÈ°µÈù¢ -->
                <section id="settings-section" class="section">
                    <div class="container">
                        <div class="section-header">
                            <h2 class="section-title">Ë¥¶Êà∑ÁÆ°ÁêÜ</h2>
                            <button id="add-account-btn" class="btn btn-primary">
                                <span>+</span> Ê∑ªÂä†Ë¥¶Êà∑
                            </button>
                        </div>

                        <div id="accounts-config-list" class="accounts-config-list">
                            <div class="loading">Âä†ËΩΩË¥¶Êà∑ÈÖçÁΩÆ...</div>
                        </div>
                    </div>
                </section>
            </main>
        </div>

        <!-- Ê®°ÊÄÅÊ°Ü -->
        <div id="modal-overlay" class="modal-overlay">
            <div id="modal" class="modal glass">
                <div class="modal-header">
                    <h3 id="modal-title">Ê†áÈ¢ò</h3>
                    <button class="btn btn-ghost btn-sm modal-close">‚úï</button>
                </div>
                <div id="modal-content" class="modal-content"></div>
                <div id="modal-footer" class="modal-footer"></div>
            </div>
        </div>

        <!-- Toast ÈÄöÁü• -->
        <div id="toast-container"></div>
    </div>

    <script src="/static/js/app.js"></script>
</body>

</html>